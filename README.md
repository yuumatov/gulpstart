# Gulp Start
## Команды сборки
Установить зависимости

    npm i

Запустить сборку проекта в режиме **dev**

    npm run dev

Запустить сборку проекта в режиме **build**

    npm run build

Создать архив проекта (**режим build**)
Архив создается в папке проекта

    npm run zip

Загрузить проект на хостинг по FTP (**режим build**)
Настройки FTP находятся в файле `./gulp/config/ftp.js`

    npm run ftp

## Последовательность сборки
Последовательно выполняет задачи:
 1. Очищает папку проекта
 2. Параллельно выполняет задачи:
	1. HTML 
	2. Стили
	3. JavaScript
	4. Изображения
	5. SVG спрайты
	6. Шрифты
	7. Фавиконки
	8.  Копирование файлов
3. Параллельно выполняет задачи:
	1. Запускает слежку за файлами
	2. Запускает локальный сервер

## Задачи сборки
Задачи сборки расположены в папке `./gulp/task/`

### Очистка `./gulp/task/reset.js`
Очистка папки `./build/` при сборки и изменении файлов проекта

### HTML `./gulp/task/html.js`
Задача для работы с файлами html:
 1. Собирает файлы html с помощью плагина `gulp-file-include`
 2. Прогоняет через типограф с помощью плагина `gulp-typograf`
 3. В режиме **bulid** добавляет к путям css и js файлов текущую версию формата год-месяц-день-часы-минуты-секунды (без тире). Пример: `"css/main.css?_v=20220725122827"`

### Стили `./gulp/task/scss.js`
Задача для работы с файлами scss:
 1. Собирает файлы scss с помощью плагина `gulp-sass` и компилирует их в css
 2. В режиме **bulid** добавляет дополнительные префиксы
 3. В режиме **bulid** сжимает css код
 4. В режиме **dev** добавляет карты исходного кода

### JavaScript `./gulp/task/js.js`
Задача для работы с файлами js:
 1. Собирает файлы js с помощью `webpack` и плагина `webpack-stream`
 2. В режиме **bulid** сжимает и оптимизирует js код

### Изображения `./gulp/task/images.js`
Задача для работы с изображениями:
 1. Копирует изображения из `./src/img/` в `./build/img/`
 2. В режиме **bulid** сжимает и оптимизирует изображения

### SVG спрайты `./gulp/task/sprite.js`
Задача для работы с svg спрайтами. Преобразует файлы svg из папки `./src/img/sprite/` в svg спрайт и сохраняет его в `./build/img/sprite.svg/`
#### Добавление спрайта в верстку:

    <svg>
        <use xlink:href="img/sprite.svg#nameSVG"></use>
    </svg>

### Шрифты `./gulp/task/fonts.js`
Копирует шрифты формата `woff, woff2` из папки `./src/fonts/` в папку `./build/fonts/`

### Фавиконки `./gulp/task/favicons.js`
Копирует заранее подготовленные файлы иконок в `./build/favicons/`
[Ссылка](https://www.figma.com/file/2MR38RAGyGH0QVNg7MTEaZ/Favicon-for-Gulp-Start?node-id=0:1) на заготовку в figma

### Копирование файлов `./gulp/task/other.js`
Копирует файлы `favicon.ico, manifest.webmanifest, robots.txt` из из папки `./src/` в папку `./build/`

### Локальный сервер `./gulp/task/server.js`
Запускает локальный сервер с помощью плагина `browser-sync`

    {
	    server: {
		    baseDir: app.path.build.html,	// Директория запуска сервера
		    index: "list.html"				// Стартовый файл
	    }
	}

### Создание архива `./gulp/task/zip.js`
Создает ZIP архив проекта в папке `./`

### Загрузка на хостинг `./gulp/task/ftp.js`
Загрузить проект на хостинг по FTP (**режим build**)
Настройки FTP находятся в файле `./gulp/config/ftp.js`
